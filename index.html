<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StudyCraft AI - AI Study Roadmap Planner</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Hamburger visibility control */
    .hamburger {
      display: none;
    }
    @media (max-width: 768px) {
      .hamburger {
        display: flex;
      }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">
        <a href="/index.html" style="text-decoration: none; color: inherit;">
          <span class="logo-text">StudyCraft AI</span>
        </a>
      </div>
      <button class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <ul class="nav-links" id="nav-links">
        <li><a href="/index.html">Home</a></li>
        <li><a href="/features.html">Features</a></li>
        <li><a href="/about.html">About</a></li>
        <li id="auth-link"><a href="/login.html" class="cta-link">Login</a></li>
        <li>
          <button class="theme-toggle-btn" id="theme-toggle">
            <span class="theme-icon">üåô</span>
          </button>
        </li>
      </ul>

    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-container">
      <div class="hero-content">
        <h1 class="hero-title">AI-Powered Study Roadmaps</h1>
        <p class="hero-subtitle">
          Create personalized, intelligent study plans tailored to your goals.
          Powered by advanced AI for optimal learning.
        </p>

        <div class="hero-form">
          <div class="form-group">
            <label for="exam">Exam:</label>
            <input id="exam" placeholder="e.g., JEE, NEET, GATE" onkeydown="handleEnter(event, 'subjects')" />
          </div>

          <div class="form-group">
            <label for="subjects">Subjects:</label>
            <input id="subjects" placeholder="e.g., Physics, Chemistry, Math" onkeydown="handleEnter(event, 'hours')" />
          </div>

          <div class="form-group">
            <label for="hours">Daily Study Hours:</label>
            <input id="hours" type="number" placeholder="e.g., 4" onkeydown="handleEnter(event, 'duration')" />
          </div>

          <div class="form-group">
            <label for="duration">Duration (days):</label>
            <input id="duration" type="number" placeholder="e.g., 30" onkeydown="handleEnter(event, 'level')" />
          </div>

          <div class="form-group">
            <label for="level">Difficulty Level:</label>
            <select id="level" onkeydown="handleEnter(event, 'submit')">
              <option value="beginner">Beginner</option>
              <option value="intermediate">Intermediate</option>
              <option value="advanced">Advanced</option>
            </select>
          </div>

          <button id="submit-btn" onclick="generateRoadmap()" class="cta-button">
            Generate Roadmap
          </button>
        </div>

        <p id="loading" class="loading-text"></p>
      </div>
    </div>
  </section>

  <!-- Information Section -->
  <section class="info-section">
    <div class="info-container">
      <h2 class="info-title">How StudyCraft AI Helps You</h2>
      <p class="info-description">
        Our AI-powered platform creates personalized study roadmaps tailored to your specific needs.
        Simply input your exam type, subjects, daily study hours, duration, and difficulty level to
        receive a comprehensive, adaptive study plan designed for optimal learning and success.
      </p>

      <div class="info-features">
        <div class="info-card">
          <div class="info-icon">üß†</div>
          <h3>Smart Planning</h3>
          <p>
            AI analyzes your inputs to create the perfect study schedule that fits your lifestyle and goals.
          </p>
        </div>

        <div class="info-card">
          <div class="info-icon">‚öñÔ∏è</div>
          <h3>Balanced Schedule</h3>
          <p>
            Distributes study time evenly across subjects with built-in breaks to prevent burnout.
          </p>
        </div>

        <div class="info-card">
          <div class="info-icon">üìà</div>
          <h3>Adaptive Difficulty</h3>
          <p>
            Adjusts content complexity based on your skill level and learning progress over time.
          </p>
        </div>

        <div class="info-card">
          <div class="info-icon">üîÑ</div>
          <h3>Revision Focus</h3>
          <p>
            Incorporates strategic revision sessions to reinforce learning and improve retention.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Result Section -->
  <section class="result-section">
    <div class="result-container">
      <div id="result" class="result"></div>
      <button id="download-btn" onclick="downloadPDF()" class="cta-button download-btn" style="display: none;">
        üì• Download as PDF
      </button>
    </div>
  </section>

  <!-- PDF Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

  <script>
    function handleEnter(event, nextFieldId) {
      if (event.key === 'Enter') {
        event.preventDefault();
        if (nextFieldId === 'submit') {
          document.getElementById('submit-btn').click();
        } else {
          document.getElementById(nextFieldId).focus();
        }
      }
    }

    function downloadPDF() {
      const result = document.getElementById('result');
      if (!result.innerHTML) return;

      // Create a styled clone for PDF
      const pdfContent = document.createElement('div');
      pdfContent.innerHTML = `
        <div style="padding: 20px; font-family: Arial, sans-serif;">
          <h1 style="text-align: center; color: #3182ce; margin-bottom: 10px;">StudyCraft AI</h1>
          <h2 style="text-align: center; color: #333; margin-bottom: 20px;">Your Study Roadmap</h2>
          <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
            <thead>
              <tr style="background: linear-gradient(135deg, #00d4ff, #8b5cf6);">
                <th style="padding: 12px; border: 1px solid #ddd; color: white; text-align: left;">Day</th>
                <th style="padding: 12px; border: 1px solid #ddd; color: white; text-align: left;">Topics</th>
                <th style="padding: 12px; border: 1px solid #ddd; color: white; text-align: left;">Task</th>
              </tr>
            </thead>
            <tbody>
              ${extractTableRows()}
            </tbody>
          </table>
          <p style="text-align: center; margin-top: 30px; color: #666; font-size: 12px;">Generated by StudyCraft AI</p>
        </div>
      `;

      const opt = {
        margin: 10,
        filename: 'StudyCraft-Roadmap.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2, useCORS: true },
        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
      };

      html2pdf().set(opt).from(pdfContent).save();
    }

    function extractTableRows() {
      const table = document.querySelector('#result table');
      if (!table) return '';
      
      const rows = table.querySelectorAll('tbody tr');
      let rowsHTML = '';
      
      rows.forEach((row, index) => {
        const cells = row.querySelectorAll('td');
        const bgColor = index % 2 === 0 ? '#f9f9f9' : '#ffffff';
        rowsHTML += `<tr style="background: ${bgColor};">`;
        cells.forEach(cell => {
          rowsHTML += `<td style="padding: 10px; border: 1px solid #ddd; color: #333;">${cell.textContent}</td>`;
        });
        rowsHTML += '</tr>';
      });
      
      return rowsHTML;
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Hamburger menu functionality
      const hamburger = document.getElementById('hamburger');
      const navLinks = document.getElementById('nav-links');

      if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
          navLinks.classList.toggle('open');
          hamburger.classList.toggle('open');
        });

        navLinks.addEventListener('click', (e) => {
          if (e.target.tagName === 'A') {
            navLinks.classList.remove('open');
            hamburger.classList.remove('open');
          }
        });

        document.addEventListener('click', (e) => {
          if (!hamburger.contains(e.target) && !navLinks.contains(e.target)) {
            navLinks.classList.remove('open');
            hamburger.classList.remove('open');
          }
        });
      }
    });
  </script>
  <script type="module" src="script.js"></script>
</body>
</html>
