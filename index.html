<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StudyCraft AI - AI Study Roadmap Planner</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Hamburger visibility control */
    .hamburger {
      display: none;
    }
    @media (max-width: 768px) {
      .hamburger {
        display: flex;
      }
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">
        <a href="/index.html" style="text-decoration: none; color: inherit;">
          <span class="logo-text">StudyCraft AI</span>
        </a>
      </div>
      <button class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <ul class="nav-links" id="nav-links">
        <li><a href="/index.html">Home</a></li>
        <li><a href="/features.html">Features</a></li>
        <li><a href="/about.html">About</a></li>
        <li id="auth-link"><a href="/login.html" class="cta-link">Login</a></li>
        <li>
          <button class="theme-toggle-btn" id="theme-toggle">
            <span class="theme-icon">üåô</span>
          </button>
        </li>
      </ul>

    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-container">
      <div class="hero-content">
        <h1 class="hero-title">AI-Powered Study Roadmaps</h1>
        <p class="hero-subtitle">
          Create personalized, intelligent study plans tailored to your goals.
          Powered by advanced AI for optimal learning.
        </p>

        <div class="hero-form">
          <div class="form-group">
            <label for="exam">Exam:</label>
            <input id="exam" placeholder="e.g., JEE, NEET, GATE" onkeydown="handleEnter(event, 'subjects')" />
          </div>

          <div class="form-group">
            <label for="subjects">Subjects:</label>
            <input id="subjects" placeholder="e.g., Physics, Chemistry, Math" onkeydown="handleEnter(event, 'hours')" />
          </div>

          <div class="form-group">
            <label for="hours">Daily Study Hours:</label>
            <input id="hours" type="number" placeholder="e.g., 4" onkeydown="handleEnter(event, 'duration')" />
          </div>

          <div class="form-group">
            <label for="duration">Duration (days):</label>
            <input id="duration" type="number" placeholder="e.g., 30" onkeydown="handleEnter(event, 'level')" />
          </div>

          <div class="form-group">
            <label for="level">Difficulty Level:</label>
            <select id="level" onkeydown="handleEnter(event, 'submit')">
              <option value="beginner">Beginner</option>
              <option value="intermediate">Intermediate</option>
              <option value="advanced">Advanced</option>
            </select>
          </div>

          <button id="submit-btn" onclick="generateRoadmap()" class="cta-button">
            Generate Roadmap
          </button>
        </div>

        <p id="loading" class="loading-text"></p>
      </div>
    </div>
  </section>

  <!-- Information Section -->
  <section class="info-section">
    <div class="info-container">
      <h2 class="info-title">How StudyCraft AI Helps You</h2>
      <p class="info-description">
        Our AI-powered platform creates personalized study roadmaps tailored to your specific needs.
        Simply input your exam type, subjects, daily study hours, duration, and difficulty level to
        receive a comprehensive, adaptive study plan designed for optimal learning and success.
      </p>

      <div class="info-features">
        <div class="info-card">
          <div class="info-icon">üß†</div>
          <h3>Smart Planning</h3>
          <p>
            AI analyzes your inputs to create the perfect study schedule that fits your lifestyle and goals.
          </p>
        </div>

        <div class="info-card">
          <div class="info-icon">‚öñÔ∏è</div>
          <h3>Balanced Schedule</h3>
          <p>
            Distributes study time evenly across subjects with built-in breaks to prevent burnout.
          </p>
        </div>

        <div class="info-card">
          <div class="info-icon">üìà</div>
          <h3>Adaptive Difficulty</h3>
          <p>
            Adjusts content complexity based on your skill level and learning progress over time.
          </p>
        </div>

        <div class="info-card">
          <div class="info-icon">üîÑ</div>
          <h3>Revision Focus</h3>
          <p>
            Incorporates strategic revision sessions to reinforce learning and improve retention.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Result Section -->
  <section class="result-section">
    <div class="result-container">
      <div id="result" class="result"></div>
      <button id="download-btn" onclick="downloadPDF()" class="cta-button download-btn" style="display: none;">
        üì• Download as PDF
      </button>
    </div>
  </section>

  <!-- PDF Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>

  <script>
    function handleEnter(event, nextFieldId) {
      if (event.key === 'Enter') {
        event.preventDefault();
        if (nextFieldId === 'submit') {
          document.getElementById('submit-btn').click();
        } else {
          document.getElementById(nextFieldId).focus();
        }
      }
    }

    function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      // Title
      doc.setFontSize(22);
      doc.setTextColor(49, 130, 206);
      doc.text('StudyCraft AI', 105, 20, { align: 'center' });

      doc.setFontSize(16);
      doc.setTextColor(51, 51, 51);
      doc.text('Your Study Roadmap', 105, 30, { align: 'center' });

      // Get table data
      const table = document.querySelector('#result .roadmap-table');
      if (!table) {
        alert('No roadmap to download!');
        return;
      }

      const rows = [];
      const headerCells = table.querySelectorAll('thead th');
      const headers = Array.from(headerCells).map(th => th.textContent);

      const bodyRows = table.querySelectorAll('tbody tr');
      bodyRows.forEach(row => {
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).map(td => td.textContent);
        if (rowData.length > 0) rows.push(rowData);
      });

      // Create table in PDF
      doc.autoTable({
        head: [headers],
        body: rows,
        startY: 40,
        theme: 'grid',
        headStyles: {
          fillColor: [49, 130, 206],
          textColor: 255,
          fontStyle: 'bold'
        },
        alternateRowStyles: {
          fillColor: [245, 245, 245]
        },
        styles: {
          fontSize: 10,
          cellPadding: 5
        }
      });

      // Footer
      const pageHeight = doc.internal.pageSize.height;
      doc.setFontSize(10);
      doc.setTextColor(150);
      doc.text('Generated by StudyCraft AI', 105, pageHeight - 10, { align: 'center' });

      doc.save('StudyCraft-Roadmap.pdf');
    }

    document.addEventListener('DOMContentLoaded', () => {
      const hamburger = document.getElementById('hamburger');
      const navLinks = document.getElementById('nav-links');

      if (hamburger && navLinks) {
        hamburger.addEventListener('click', () => {
          navLinks.classList.toggle('open');
          hamburger.classList.toggle('open');
        });

        navLinks.addEventListener('click', (e) => {
          if (e.target.tagName === 'A') {
            navLinks.classList.remove('open');
            hamburger.classList.remove('open');
          }
        });

        document.addEventListener('click', (e) => {
          if (!hamburger.contains(e.target) && !navLinks.contains(e.target)) {
            navLinks.classList.remove('open');
            hamburger.classList.remove('open');
          }
        });
      }
    });
  </script>
  <script type="module" src="script.js"></script>
</body>
</html>
